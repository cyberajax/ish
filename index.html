<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Ishika ¬∑ distance feels you</title>
  <!-- Fonts & Icons (clean, elegant) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: #0a051f;
      color: #f0eaff;
      overflow-x: hidden;
      cursor: none; /* custom glow cursor */
    }

    /* custom glow cursor (mouse follow light) */
    #glow-cursor {
      position: fixed;
      width: 280px;
      height: 280px;
      background: radial-gradient(circle at center, rgba(255, 200, 240, 0.25) 0%, rgba(180, 160, 255, 0.1) 40%, transparent 70%);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: screen;
      transform: translate(-50%, -50%);
      transition: width 0.2s, height 0.2s, opacity 0.3s;
      will-change: left, top;
      backdrop-filter: blur(1px);
    }

    /* canvas stars + dust (fixed background) */
    #star-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
      background: linear-gradient(145deg, #140b2b 0%, #24173f 40%, #311e4e 100%);
    }

    /* main content layer */
    .content {
      position: relative;
      z-index: 10;
      min-height: 100vh;
    }

    /* glassmorphism card */
    .glass-card {
      background: rgba(20, 15, 40, 0.4);
      backdrop-filter: blur(12px) saturate(180%);
      -webkit-backdrop-filter: blur(12px) saturate(180%);
      border: 1px solid rgba(255, 210, 255, 0.15);
      border-radius: 32px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 20px rgba(255, 160, 210, 0.3);
      padding: 2rem;
    }

    /* sections spacing */
    section {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem 1.5rem;
      scroll-snap-align: start;
      position: relative;
    }

    .container {
      max-width: 700px;
      width: 100%;
      margin: 0 auto;
    }

    /* headings */
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
      font-weight: 400;
      letter-spacing: 0.02em;
    }

    h2 {
      font-size: 2.5rem;
      margin-bottom: 1.5rem;
      text-shadow: 0 0 15px #ffb3d9;
    }

    /* landing */
    .landing-text {
      font-size: clamp(1.8rem, 8vw, 4rem);
      line-height: 1.2;
      text-align: center;
      font-family: 'Playfair Display', serif;
      font-style: italic;
      color: #fff2f9;
      text-shadow: 0 0 30px #ff9ad0;
    }
    #typewriter {
      min-height: 6rem;
    }

    /* timeline vertical */
    .timeline {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
    .memory-card {
      display: flex;
      gap: 1.2rem;
      align-items: center;
      background: rgba(30, 20, 45, 0.5);
      backdrop-filter: blur(8px);
      border-radius: 28px;
      padding: 1rem 1.5rem;
      border: 1px solid rgba(255, 200, 240, 0.2);
      transform: translateY(30px);
      opacity: 0;
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .memory-card.revealed {
      opacity: 1;
      transform: translateY(0);
    }
    .memory-photo {
      width: 80px;
      height: 80px;
      border-radius: 40px;
      background: linear-gradient(145deg, #b380d0, #ffb3d9);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      color: #2b0f33;
      box-shadow: 0 0 30px #ffa2df;
    }
    .memory-caption {
      font-size: 1.1rem;
      font-weight: 300;
    }

    /* distance section */
    .map-glow {
      display: flex;
      justify-content: space-around;
      align-items: center;
      width: 100%;
      margin: 3rem 0;
      position: relative;
    }
    .city {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.6rem;
    }
    .glow-dot {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: #ffb3d9;
      box-shadow: 0 0 40px #ff80bf;
      animation: pulse 2s infinite;
    }
    .glow-dot.second {
      background: #a7b0ff;
      box-shadow: 0 0 40px #8f9eff;
    }
    .beam {
      flex: 1;
      height: 2px;
      background: linear-gradient(90deg, #ffb3d9, #a7b0ff);
      box-shadow: 0 0 30px #ffe3f0;
      margin: 0 1rem;
      position: relative;
      top: -1rem;
    }
    @keyframes pulse {
      0% { opacity: 0.7; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.2); }
      100% { opacity: 0.7; transform: scale(1); }
    }

    /* letter section */
    .letter-body {
      font-size: 1.3rem;
      line-height: 1.8;
      font-style: italic;
      white-space: pre-wrap;
      word-break: break-word;
      min-height: 300px;
      font-family: 'Playfair Display', serif;
    }
    .line {
      opacity: 0;
      transition: opacity 0.05s;
    }

    /* reasons floating circle */
    .reasons-orbit {
      position: relative;
      width: 100%;
      min-height: 500px;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 2rem 0;
    }
    .orbit-center {
      width: 100px;
      height: 100px;
      background: rgba(255, 210, 255, 0.2);
      backdrop-filter: blur(6px);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      border: 1px solid white;
      box-shadow: 0 0 70px #ffbbe6;
      z-index: 2;
    }
    .reason-card {
      position: absolute;
      width: 140px;
      padding: 1rem;
      background: rgba(40, 25, 60, 0.7);
      backdrop-filter: blur(10px);
      border-radius: 40px;
      border: 1px solid rgba(255, 200, 240, 0.5);
      text-align: center;
      font-size: 1rem;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 10px 20px rgba(0,0,0,0.3);
      transform-origin: center;
      z-index: 3;
    }
    .reason-card:hover {
      transform: scale(1.08);
      background: rgba(90, 50, 110, 0.8);
      box-shadow: 0 0 35px #fbc1ff;
    }
    .reason-reveal {
      display: none;
      margin-top: 0.5rem;
      font-size: 0.9rem;
      color: #ffe6f3;
    }
    .reason-card.active .reason-reveal {
      display: block;
    }

    /* final proposal */
    .proposal-btn {
      background: rgba(255, 200, 240, 0.15);
      border: 2px solid rgba(255, 150, 210, 0.7);
      font-size: 1.6rem;
      padding: 1.2rem 2.8rem;
      border-radius: 60px;
      color: white;
      backdrop-filter: blur(12px);
      cursor: pointer;
      transition: 0.4s;
      box-shadow: 0 0 30px #ffa5d2;
      margin-top: 2rem;
      font-family: 'Playfair Display', serif;
    }
    .proposal-btn:hover {
      background: rgba(255, 180, 220, 0.3);
      box-shadow: 0 0 70px #ffb7dc;
      transform: scale(1.02);
    }
    #final-message {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(20, 10, 40, 0.9);
      backdrop-filter: blur(20px);
      padding: 3rem 4rem;
      border-radius: 60px;
      border: 2px solid #ffcfef;
      box-shadow: 0 0 130px #ffabf0;
      z-index: 10000;
      font-size: 2.3rem;
      text-align: center;
      opacity: 0;
      transition: opacity 1s ease;
      pointer-events: none;
      color: #fff0fd;
    }
    #final-message.show {
      opacity: 1;
      pointer-events: none;
    }
    .dim-overlay {
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: rgba(0,0,0,0.7);
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s;
    }
    .dim-overlay.dim {
      opacity: 1;
      pointer-events: none;
    }

    /* floating hearts */
    .floating-heart {
      position: fixed;
      color: #ffb3d9;
      font-size: 1.8rem;
      pointer-events: none;
      z-index: 100000;
      animation: floatUp 4s linear forwards;
      text-shadow: 0 0 20px hotpink;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-200px) scale(0.4); opacity: 0; }
    }

    /* loading screen */
    #loading {
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: #0d0622;
      z-index: 20000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 1s;
    }
    .heartbeat {
      font-size: 5rem;
      color: #ffb3d9;
      animation: beat 1s infinite;
    }
    @keyframes beat {
      0% { transform: scale(1); }
      30% { transform: scale(1.3); text-shadow: 0 0 50px #ff9ad0; }
      50% { transform: scale(1.1); }
      70% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    /* gallery */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }
    .gallery-item {
      aspect-ratio: 1;
      background: linear-gradient(145deg, #5d3a78, #a571a8);
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      box-shadow: 0 0 40px #c58fca;
      color: #1d0a2b;
    }

    /* music toggle */
    #music-toggle {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background: rgba(255,240,250,0.2);
      backdrop-filter: blur(8px);
      padding: 0.9rem;
      border-radius: 50px;
      z-index: 1000;
      border: 1px solid white;
      color: white;
      font-size: 1.3rem;
      cursor: pointer;
    }

    /* scroll snap */
    .content {
      scroll-snap-type: y mandatory;
    }

    /* mobile */
    @media (max-width: 500px) {
      .reason-card { width: 110px; font-size: 0.8rem; padding: 0.7rem; }
      .orbit-center { width: 70px; height: 70px; font-size: 1.8rem; }
    }
  </style>
</head>
<body>
  <div id="glow-cursor"></div>
  <canvas id="star-canvas"></canvas>
  <div id="loading"><div class="heartbeat"><i class="fas fa-heart"></i></div></div>
  <div class="content">
    <!-- Landing -->
    <section id="landing">
      <div class="container glass-card" style="background: rgba(10,5,25,0.3); text-align: center;">
        <div id="typewriter" class="landing-text"></div>
        <p style="margin-top:2rem; opacity:0.8;"><i class="fas fa-star"></i>  click anywhere to send a heart  <i class="fas fa-star"></i></p>
      </div>
    </section>

    <!-- Our Story Timeline -->
    <section id="timeline">
      <h2>‚úß our story ‚úß</h2>
      <div class="container timeline" id="timeline-container"></div>
    </section>

    <!-- Distance Section -->
    <section id="distance">
      <h2>distance is just a line</h2>
      <div class="glass-card container" style="text-align: center;">
        <div class="map-glow">
          <div class="city"><div class="glow-dot"></div><span>you</span></div>
          <div class="beam"></div>
          <div class="city"><div class="glow-dot second"></div><span>me</span></div>
        </div>
        <p style="font-size:1.5rem; font-family: 'Playfair Display';">‚Äúmiles can‚Äôt touch the heartbeat‚Äù</p>
      </div>
    </section>

    <!-- Letter Section -->
    <section id="letter">
      <h2>‚úçÔ∏è a letter for you</h2>
      <div class="glass-card container" id="letter-container">
        <div class="letter-body" id="letter-body"></div>
      </div>
    </section>

    <!-- Reasons I Love You (orbiting cards) -->
    <section id="reasons">
      <h2>why i love you</h2>
      <div class="reasons-orbit" id="orbit-container">
        <div class="orbit-center">‚ù§Ô∏è</div>
        <!-- cards injected via js -->
      </div>
    </section>

    <!-- Memory Gallery -->
    <section id="gallery">
      <h2>glimpses of you</h2>
      <div class="container gallery-grid" id="gallery-grid"></div>
    </section>

    <!-- Final Proposal -->
    <section id="proposal">
      <h2>one last thing...</h2>
      <button class="proposal-btn" id="proposal-btn">I need to tell you something...</button>
    </section>
  </div>

  <div id="final-message">Ishika, will you stay in my life forever?</div>
  <div class="dim-overlay" id="dim-overlay"></div>
  <div id="music-toggle"><i class="fas fa-music"></i> ‚ô™</div>

  <script>
    (function() {
      // --------------------------------------------------------------
      // DATA (easily editable)
      const timelineData = [
        { emoji: '‚òï', caption: 'First time we talked ‚Äì instant magic' },
        { emoji: 'üåå', caption: 'Stargazing call, 2am' },
        { emoji: 'üéÇ', caption: 'Your birthday, I wished on every star' },
        { emoji: '‚úàÔ∏è', caption: 'Planning to meet ‚Äî soon' },
      ];
      const reasonsData = [
        { short: 'Smile', detail: 'it lights up my darkest nights' },
        { short: 'Voice', detail: 'my favorite melody' },
        { short: 'Eyes', detail: 'oceans I want to drown in' },
        { short: 'Soul', detail: 'ancient & kind, just like mine' },
        { short: 'Laugh', detail: 'even recorded it for bad days' },
        { short: 'Distance', detail: 'you make it feel close' },
      ];
      const galleryItems = ['üå∏','üåô','‚ú®','‚òÅÔ∏è','üéß','üìñ','‚òï','üå∫'];

      // --------------------------------------------------------------
      // Loading screen
      window.addEventListener('load', ()=>{
        setTimeout(()=>{
          document.getElementById('loading').style.opacity = '0';
          setTimeout(()=>{
            document.getElementById('loading').style.display = 'none';
          }, 1000);
        }, 1500);
      });

      // --------------------------------------------------------------
      // Canvas stars (floating particles)
      const canvas = document.getElementById('star-canvas');
      const ctx = canvas.getContext('2d');
      let width, height;
      let stars = [];
      const STAR_COUNT = 100;

      function initStars() {
        stars = [];
        for (let i=0; i<STAR_COUNT; i++) {
          stars.push({
            x: Math.random() * width,
            y: Math.random() * height,
            radius: Math.random() * 2.5 + 0.8,
            speedX: (Math.random() - 0.5) * 0.08,
            speedY: (Math.random() - 0.5) * 0.04,
            glow: Math.random() * 0.7 + 0.3,
          });
        }
      }

      function resizeCanvas() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        initStars();
      }

      function drawStars() {
        ctx.clearRect(0, 0, width, height);
        // deep gradient overlay
        const grad = ctx.createLinearGradient(0, 0, width*0.2, height);
        grad.addColorStop(0, '#140b2b');
        grad.addColorStop(0.5, '#2a1744');
        grad.addColorStop(1, '#1d0e30');
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, width, height);

        stars.forEach(s => {
          // move slowly
          s.x += s.speedX;
          s.y += s.speedY;
          if (s.x < 0) s.x = width;
          if (s.x > width) s.x = 0;
          if (s.y < 0) s.y = height;
          if (s.y > height) s.y = 0;

          ctx.beginPath();
          ctx.arc(s.x, s.y, s.radius, 0, Math.PI*2);
          ctx.fillStyle = `rgba(255, 230, 250, ${s.glow})`;
          ctx.shadowColor = '#ffbae6';
          ctx.shadowBlur = 15 * s.glow;
          ctx.fill();
        });
        requestAnimationFrame(drawStars);
      }

      window.addEventListener('resize', resizeCanvas);
      resizeCanvas();
      drawStars();

      // --------------------------------------------------------------
      // Mouse glow
      const cursor = document.getElementById('glow-cursor');
      document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
      });

      // --------------------------------------------------------------
      // Hearts on click
      document.addEventListener('click', function(e) {
        const heart = document.createElement('i');
        heart.className = 'fas fa-heart floating-heart';
        heart.style.left = (e.clientX - 20) + 'px';
        heart.style.top = (e.clientY - 20) + 'px';
        heart.style.position = 'fixed';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      });

      // --------------------------------------------------------------
      // Typewriter landing
      const landingText = "No matter how far you are‚Ä¶ you are still the closest person to me.";
      let i = 0;
      const typeEl = document.getElementById('typewriter');
      function typeNext() {
        if (i < landingText.length) {
          typeEl.innerHTML += landingText.charAt(i);
          i++;
          setTimeout(typeNext, 70);
        } else {
          typeEl.style.borderRight = 'none';
        }
      }
      typeNext();

      // --------------------------------------------------------------
      // Timeline cards (intersection observer)
      const timelineContainer = document.getElementById('timeline-container');
      timelineData.forEach(m => {
        const card = document.createElement('div');
        card.className = 'memory-card';
        card.innerHTML = `<div class="memory-photo">${m.emoji}</div><div class="memory-caption">${m.caption}</div>`;
        timelineContainer.appendChild(card);
      });

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(e => {
          if (e.isIntersecting) e.target.classList.add('revealed');
        });
      }, { threshold: 0.3 });
      document.querySelectorAll('.memory-card').forEach(c => observer.observe(c));

      // --------------------------------------------------------------
      // Letter typewriter on view
      const letterLines = [
        "My Ishika,",
        "Every night I look at the same moon,",
        "and imagine it's your smile.",
        "Distance is just a test",
        "to see how far love can travel.",
        "And you? You're already here, in every heartbeat.",
        "Yours, across the miles."
      ];
      const letterBody = document.getElementById('letter-body');
      let lineIndex = 0, charIndex = 0;

      function typeLetter() {
        if (lineIndex >= letterLines.length) return;
        const currentLine = letterLines[lineIndex];
        if (charIndex < currentLine.length) {
          letterBody.innerHTML += currentLine.charAt(charIndex);
          charIndex++;
          setTimeout(typeLetter, 40);
        } else {
          letterBody.innerHTML += '<br/>';
          lineIndex++;
          charIndex = 0;
          setTimeout(typeLetter, 300);
        }
      }

      const letterObserver = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
          letterBody.innerHTML = '';
          lineIndex = 0; charIndex = 0;
          typeLetter();
          letterObserver.unobserve(entries[0].target);
        }
      }, { threshold: 0.5 });
        letterObserver.observe(document.getElementById('letter'));

      // --------------------------------------------------------------
      // Reasons orbiting cards
      const orbitContainer = document.getElementById('orbit-container');
      const centerX = 0, centerY = 0; // relative to container
      const radius = 160;
      reasonsData.forEach((item, idx) => {
        const card = document.createElement('div');
        card.className = 'reason-card';
        card.innerHTML = `<div>${item.short}</div><div class="reason-reveal">${item.detail}</div>`;
        orbitContainer.appendChild(card);
      });
      function positionCards() {
        const cards = document.querySelectorAll('.reason-card');
        const containerRect = orbitContainer.getBoundingClientRect();
        const centerEl = orbitContainer.querySelector('.orbit-center');
        const centerX = centerEl.offsetLeft + centerEl.offsetWidth/2;
        const centerY = centerEl.offsetTop + centerEl.offsetHeight/2;
        cards.forEach((card, i) => {
          const angle = (i / cards.length) * Math.PI * 2;
          const x = centerX + Math.cos(angle) * radius - card.offsetWidth/2;
          const y = centerY + Math.sin(angle) * radius - card.offsetHeight/2;
          card.style.left = x + 'px';
          card.style.top = y + 'px';
        });
      }
      window.addEventListener('load', positionCards);
      window.addEventListener('resize', positionCards);
      // click reveal
      orbitContainer.addEventListener('click', (e) => {
        const card = e.target.closest('.reason-card');
        if (card) {
          card.classList.toggle('active');
        }
      });

      // --------------------------------------------------------------
      // Gallery
      const galleryGrid = document.getElementById('gallery-grid');
      galleryItems.forEach(icon => {
        const div = document.createElement('div');
        div.className = 'gallery-item';
        div.innerHTML = icon;
        galleryGrid.appendChild(div);
      });

      // --------------------------------------------------------------
      // Final proposal cinematic
      const proposalBtn = document.getElementById('proposal-btn');
      const dimOverlay = document.getElementById('dim-overlay');
      const finalMsg = document.getElementById('final-message');
      let audioCtx = null;

      function playSwell() {
        try {
          if (!audioCtx) {
            audioCtx = new (window.AudioContext || window.webkitAudioContext)();
          }
          if (audioCtx.state === 'suspended') {
            audioCtx.resume();
          }
          const now = audioCtx.currentTime;
          const osc = audioCtx.createOscillator();
          const gain = audioCtx.createGain();
          osc.type = 'sine';
          osc.frequency.setValueAtTime(440, now);
          osc.frequency.exponentialRampToValueAtTime(880, now + 0.5);
          gain.gain.setValueAtTime(0.2, now);
          gain.gain.exponentialRampToValueAtTime(0.001, now + 1.5);
          osc.connect(gain);
          gain.connect(audioCtx.destination);
          osc.start(now);
          osc.stop(now + 1.5);
        } catch (e) { console.log('audio swells (simulated)'); }
      }

      proposalBtn.addEventListener('click', () => {
        // dim
        dimOverlay.classList.add('dim');
        // gather stars effect (canvas stars speed to center)
        stars.forEach(s => {
          const dx = width/2 - s.x;
          const dy = height/2 - s.y;
          s.speedX += dx * 0.0005;
          s.speedY += dy * 0.0005;
        });
        // music swell
        playSwell();
        // show message after a beat
        setTimeout(() => {
          finalMsg.classList.add('show');
        }, 800);
        // additional hearts
        for (let i=0; i<15; i++) {
          setTimeout(() => {
            const fake = new MouseEvent('click', { clientX: Math.random()*window.innerWidth, clientY: Math.random()*window.innerHeight });
            document.dispatchEvent(fake);
          }, i*100);
        }
      });

      // --------------------------------------------------------------
      // Music toggle dummy (visual only, just for aesthetic)
      const musicToggle = document.getElementById('music-toggle');
      musicToggle.addEventListener('click', () => {
        alert('ambient piano ‚Äî imagine soft Erik Satie (volume control not implemented)');
      });

      // hide glow cursor on mobile
      if (/Mobi|Android/i.test(navigator.userAgent)) {
        document.getElementById('glow-cursor').style.display = 'none';
        document.body.style.cursor = 'auto';
      }
    })();
  </script>
</body>
</html>
        
