<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ishika ¬∑ will you be mine? ‚ú¶</title>
    <!-- Google Fonts for romantic & playful feel -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Quicksand:wght@300;500;700&display=swap" rel="stylesheet">
    <!-- GSAP (ultra-smooth animations) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none; /* hide default for custom cursor */
        }

        body {
            font-family: 'Quicksand', sans-serif;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            background: radial-gradient(circle at 30% 30%, #1a0b1f, #0d0715);
            color: white;
        }

        /* --- custom glowing heart cursor --- */
        .cursor {
            position: fixed;
            width: 28px;
            height: 28px;
            background: rgba(255, 120, 180, 0.6);
            border-radius: 50% 50% 0 50%;
            transform: rotate(45deg);
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: screen;
            box-shadow: 0 0 20px #ff99cc, 0 0 40px #ff66b2;
            transition: transform 0.1s;
        }
        .cursor::after {
            content: '‚ù§Ô∏è';
            position: absolute;
            font-size: 22px;
            transform: rotate(-45deg) translate(-4px, -4px);
            filter: drop-shadow(0 0 6px hotpink);
        }
        .trail-heart {
            position: fixed;
            font-size: 20px;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.7;
            filter: drop-shadow(0 0 8px #ff3388);
            animation: floatUp 1.5s ease-out forwards;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 0.9; }
            100% { transform: translateY(-80px) scale(0.5); opacity: 0; }
        }

        /* scenes container */
        .scenes {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .scene {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.8s ease, visibility 0.8s;
            padding: 20px;
            backdrop-filter: blur(3px);
        }

        .scene.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }

        /* stars background */
        .stars, .twinkling {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            box-shadow: 0 0 12px #fff9e6;
            animation: twinkle 4s infinite alternate;
        }
        @keyframes twinkle {
            0% { opacity: 0.3; transform: scale(1); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* glassmorphism boxes */
        .glass-card {
            background: rgba(255, 230, 240, 0.2);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 200, 220, 0.4);
            border-radius: 40px;
            padding: 30px 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3), 0 0 30px rgba(255, 105, 180, 0.5);
            text-align: center;
            z-index: 10;
            max-width: 700px;
            width: 90%;
        }

        h1, h2, .cute-text {
            font-family: 'Dancing Script', cursive;
            font-weight: 700;
            text-shadow: 0 0 20px #ffa6c9;
            letter-spacing: 1px;
        }

        .btn-group {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 30px 0;
            position: relative;
        }

        .proposal-btn {
            font-size: 2rem;
            padding: 15px 40px;
            border: none;
            border-radius: 60px;
            font-family: 'Dancing Script', cursive;
            font-weight: 700;
            background: rgba(255, 220, 240, 0.9);
            box-shadow: 0 10px 20px rgba(255, 20, 140, 0.4), 0 0 30px #ffb6c1;
            color: #a02c5a;
            transition: 0.2s;
            cursor: none;
            min-width: 150px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.5);
        }

        #yesBtn {
            background: #ff9acb;
            color: #4a1a2c;
            font-size: 2.4rem;
            transform: scale(1.1);
        }

        #noBtn {
            background: #d9b0c0;
            color: #333;
            position: relative;
            z-index: 100;
        }

        .emotional-text p {
            font-size: 1.8rem;
            line-height: 1.4;
            margin: 20px 0;
            font-family: 'Dancing Script', cursive;
            opacity: 0;
            transform: translateY(20px);
        }

        .floating-hearts {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }

        .heart-particle {
            position: absolute;
            font-size: 24px;
            filter: drop-shadow(0 0 12px hotpink);
            pointer-events: none;
        }

        .continue-btn {
            background: rgba(255,255,255,0.3);
            border: 1px solid white;
            color: white;
            font-size: 1.4rem;
            padding: 12px 30px;
            border-radius: 40px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
            cursor: none;
            transition: 0.3s;
        }
        .continue-btn:hover {
            background: rgba(255,180,200,0.7);
            box-shadow: 0 0 30px pink;
        }

        .secret-heart {
            position: fixed;
            bottom: 25px;
            right: 25px;
            font-size: 32px;
            opacity: 0.3;
            z-index: 200;
            filter: drop-shadow(0 0 8px red);
            transition: 0.3s;
            cursor: none;
        }
        .secret-heart:hover {
            opacity: 1;
            transform: scale(1.3) rotate(5deg);
        }
        .secret-message {
            position: fixed;
            bottom: 80px;
            right: 30px;
            background: rgba(255,215,235,0.9);
            color: #a1355b;
            padding: 15px 25px;
            border-radius: 40px;
            font-size: 1.4rem;
            border: 2px solid white;
            backdrop-filter: blur(10px);
            display: none;
            z-index: 250;
            font-family: 'Dancing Script', cursive;
            box-shadow: 0 0 50px hotpink;
        }

        /* celebration overlay */
        .celebration-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #ffa5c3, #d14c8b);
            z-index: 300;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: 0.6s;
            backdrop-filter: blur(5px);
        }
        .celebration-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .final-message {
            background: rgba(255,240,250,0.3);
            backdrop-filter: blur(16px);
            border-radius: 70px;
            padding: 40px;
            max-width: 800px;
            margin: 20px;
            border: 2px solid white;
            color: #3f1d2b;
            text-align: center;
        }

        .final-message p {
            font-size: 2.2rem;
            margin: 15px 0;
            font-family: 'Dancing Script', cursive;
            color: #fff2e6;
            text-shadow: 0 0 20px #b3235e;
        }

        canvas#confetti-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 350;
        }

        /* responsive */
        @media (max-width: 600px) {
            .glass-card { padding: 20px; }
            .proposal-btn { font-size: 1.6rem; padding: 12px 20px; min-width: 120px; }
            #yesBtn { font-size: 2rem; }
            .emotional-text p { font-size: 1.4rem; }
        }
    </style>
</head>
<body>
    <!-- custom cursor + trail container -->
    <div class="cursor"></div>
    <div class="secret-heart" id="secretHeart">üíó</div>
    <div class="secret-message" id="secretMessage">You're the magic in my life, Ishika! üí´</div>

    <!-- floating hearts background (will be populated via JS) -->
    <div class="floating-hearts" id="floatingHearts"></div>

    <!-- scenes -->
    <div class="scenes">
        <!-- scene 1: opening stars + letter by letter -->
        <div class="scene active" id="scene1">
            <div class="stars" id="stars"></div>
            <div class="glass-card" id="openingText">
                <h1 style="font-size: 3rem; min-height: 150px;" id="line1"></h1>
                <h2 style="font-size: 2.5rem; margin-top: 20px; min-height: 80px;" id="line2"></h2>
                <button class="continue-btn" id="continue1">‚û°Ô∏è Continue</button>
            </div>
        </div>

        <!-- scene 2: cute playful messages -->
        <div class="scene" id="scene2">
            <div class="glass-card" style="text-align: center;">
                <div id="playfulMessages" style="font-size: 2.5rem; line-height: 1.5;">‚ù§Ô∏è</div>
                <button class="continue-btn" id="continue2">üíï next ‚Üí</button>
            </div>
        </div>

        <!-- scene 3: main proposal with YES/NO -->
        <div class="scene" id="scene3">
            <div class="glass-card">
                <h1 style="font-size: 3.5rem; margin-bottom: 30px;">Will You Be Mine Forever?</h1>
                <div class="btn-group" id="btnGroup">
                    <button class="proposal-btn" id="yesBtn">YES ‚ù§Ô∏è</button>
                    <button class="proposal-btn" id="noBtn">NO üò¢</button>
                </div>
            </div>
        </div>
    </div>

    <!-- celebration overlay (shown after YES) -->
    <div class="celebration-overlay" id="celebrationOverlay">
        <div class="final-message" id="finalMessage"></div>
    </div>
    <canvas id="confetti-canvas"></canvas>

    <script>
        (function() {
            // -------------------- AUDIO CONTEXT (simple beeps) --------------------
            let audioCtx;
            function initAudio() {
                if (audioCtx) return;
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            function playBeep(type = 'hover') {
                if (!audioCtx) return;
                const now = audioCtx.currentTime;
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.frequency.value = type === 'hover' ? 720 : 520;
                gain.gain.setValueAtTime(0.08, now);
                gain.gain.exponentialRampToValueAtTime(0.001, now + 0.15);
                osc.start(now);
                osc.stop(now + 0.15);
            }

            // -------------------- CUSTOM CURSOR + HEART TRAIL --------------------
            const cursor = document.querySelector('.cursor');
            document.addEventListener('mousemove', (e) => {
                gsap.to(cursor, {
                    x: e.clientX - 14,
                    y: e.clientY - 14,
                    duration: 0.1,
                    ease: "power2.out"
                });
                // trail hearts (spawn randomly)
                if (Math.random() > 0.7) {
                    const trail = document.createElement('div');
                    trail.className = 'trail-heart';
                    trail.innerHTML = ['‚ù§Ô∏è','üå∏','üíñ','‚ú®'][Math.floor(Math.random()*4)];
                    trail.style.left = e.clientX - 10 + 'px';
                    trail.style.top = e.clientY - 10 + 'px';
                    document.body.appendChild(trail);
                    setTimeout(() => trail.remove(), 1500);
                }
            });
            document.addEventListener('mouseleave', () => gsap.to(cursor, {scale:0, duration:0.2}));
            document.addEventListener('mouseenter', () => gsap.to(cursor, {scale:1, duration:0.2}));

            // -------------------- STARRY BACKGROUND --------------------
            const starsContainer = document.getElementById('stars');
            for (let i=0; i<150; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random()*3 + 1;
                star.style.width = size+'px';
                star.style.height = size+'px';
                star.style.left = Math.random()*100 + '%';
                star.style.top = Math.random()*100 + '%';
                star.style.animationDelay = Math.random()*5+'s';
                starsContainer.appendChild(star);
            }
            gsap.to('.star', {duration: 60, x: 'random(-30,30)', y: 'random(-20,20)', repeat: -1, yoyo: true, ease: "sine.inOut"});

            // -------------------- FLOATING HEARTS REACTING TO MOUSE (subtle) --------------------
            const heartsContainer = document.getElementById('floatingHearts');
            for (let i=0; i<25; i++) {
                const heart = document.createElement('div');
                heart.className = 'heart-particle';
                heart.innerHTML = ['‚ù§Ô∏è','üå∏','üåπ','üíï','üíó'][Math.floor(Math.random()*5)];
                heart.style.left = Math.random()*100 + '%';
                heart.style.top = Math.random()*100 + '%';
                heart.style.fontSize = (Math.random()*30+20)+'px';
                heart.style.animation = `floatAround ${20+Math.random()*20}s infinite alternate`;
                heartsContainer.appendChild(heart);
            }
            // add slight mouse interaction
            document.addEventListener('mousemove', (e) => {
                const hearts = document.querySelectorAll('.heart-particle');
                const mouseX = e.clientX / window.innerWidth;
                const mouseY = e.clientY / window.innerHeight;
                hearts.forEach((h, i) => {
                    const shiftX = (mouseX - 0.5) * 30;
                    const shiftY = (mouseY - 0.5) * 20;
                    gsap.to(h, {x: shiftX * (i%3), y: shiftY * (i%2), duration: 2, ease: "sine.out"});
                });
            });

            // -------------------- SPLIT TEXT TO SPANS (letter by letter) --------------------
            function splitLetters(element, text) {
                element.innerHTML = '';
                for (let char of text) {
                    const span = document.createElement('span');
                    span.textContent = char;
                    span.style.opacity = '0';
                    span.style.display = 'inline-block';
                    element.appendChild(span);
                }
                return element.children;
            }

            // scene 1 opening lines
            const line1El = document.getElementById('line1');
            const line2El = document.getElementById('line2');
            const line1Text = "Hey Ishika...";
            const line2Text = "You know something?  I have a confession...";
            const letters1 = splitLetters(line1El, line1Text);
            const letters2 = splitLetters(line2El, line2Text);

            // timeline for opening
            const openTL = gsap.timeline({delay: 0.5});
            openTL.to(letters1, {opacity:1, stagger:0.1, duration:0.2, ease:"none"})
                   .to({}, {duration:0.8})
                   .to(letters2, {opacity:1, stagger:0.06, duration:0.15, ease:"none"});

            // continue button scene1
            document.getElementById('continue1').addEventListener('click', (e) => {
                playBeep(); initAudio();
                gsap.to('#scene1', {opacity:0, duration:0.6, onComplete:()=>{
                    document.getElementById('scene1').classList.remove('active');
                    document.getElementById('scene2').classList.add('active');
                    // animate playful messages
                    const msgDiv = document.getElementById('playfulMessages');
                    const messages = ["You stole my heart ‚ù§Ô∏è", "I tried to take it back...", "But you ran too fast üòÑ", "So I guess it‚Äôs yours now"];
                    let i=0;
                    msgDiv.innerHTML = '';
                    const showNext = () => {
                        if (i < messages.length) {
                            msgDiv.innerHTML += `<div style="opacity:0; transform:translateY(30px);">${messages[i]}</div>`;
                            const newMsg = msgDiv.lastElementChild;
                            gsap.to(newMsg, {opacity:1, y:0, duration:0.7, ease:"back.out", delay:0.2});
                            i++;
                            setTimeout(showNext, 1300);
                        }
                    };
                    showNext();
                }});
            });

            // continue to scene3
            document.getElementById('continue2').addEventListener('click', () => {
                playBeep(); initAudio();
                gsap.to('#scene2', {opacity:0, duration:0.6, onComplete:()=>{
                    document.getElementById('scene2').classList.remove('active');
                    document.getElementById('scene3').classList.add('active');
                }});
            });

            // -------------------- NO BUTTON (playful runaway) --------------------
            const noBtn = document.getElementById('noBtn');
            const btnGroup = document.getElementById('btnGroup');
            const funnyTexts = ["No chance üòú", "Try again üòù", "Nice try üòÜ", "You can‚Äôt press this üòè", "Nope üí®", "Missed me! ‚ú®"];

            function runawayNo() {
                const containerRect = btnGroup.getBoundingClientRect();
                const btnRect = noBtn.getBoundingClientRect();
                const maxX = containerRect.width - btnRect.width - 20;
                const maxY = containerRect.height - btnRect.height - 20;
                if (maxX <= 0 || maxY <= 0) return;
                const randX = Math.random() * maxX;
                const randY = Math.random() * maxY;
                const randRot = (Math.random() - 0.5) * 30;
                const randScale = 0.7 + Math.random() * 0.6;
                const randText = funnyTexts[Math.floor(Math.random() * funnyTexts.length)];
                noBtn.textContent = randText;
                gsap.to(noBtn, {
                    x: randX,
                    y: randY,
                    rotation: randRot,
                    scale: randScale,
                    duration: 0.3,
                    ease: "back.out(1.2)"
                });
            }

            noBtn.addEventListener('mouseenter', (e) => {
                playBeep('hover'); initAudio();
                runawayNo();
            });
            noBtn.addEventListener('touchstart', (e) => {
                e.preventDefault();
                pla
